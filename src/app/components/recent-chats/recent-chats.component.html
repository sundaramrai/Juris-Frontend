<div class="card border-0 shadow">
  <div class="card-body">
    <div class="d-flex align-items-center justify-content-between">
      <h5 class="card-title fw-bold text-primary mb-0">Recent Chats</h5>
      <mat-icon class="text-primary" style="cursor: pointer;" (click)="refreshChatHistory()">
        refresh
      </mat-icon>
    </div>

    <div class="list-group list-group-flush mt-2" *ngIf="isMessages">
      <a class="list-group-item list-group-item-action">
        <!-- Force items onto a single line and truncate summary if needed -->
        <div class="d-flex align-items-center justify-content-between" style="flex-wrap: nowrap; width: 100%;">
          <h6 class="mb-1 me-3 text-truncate"
            style="flex: 1; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;" [title]="chatSummary">
            {{ chatSummary }}
          </h6>
          <small class="text-nowrap">
            {{ messages[0].time | date:'MMM-yyyy' }}
          </small>
        </div>
      </a>
    </div>

    <div class="list-group list-group-flush mt-2" *ngIf="!isMessages">
      <a class="list-group-item list-group-item-action">
        <div class="d-flex justify-content-between">
          <h6 class="mb-1">No chats</h6>
        </div>
      </a>
    </div>
  </div>
</div>
